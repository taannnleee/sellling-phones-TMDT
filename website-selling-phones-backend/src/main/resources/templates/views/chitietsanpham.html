<!DOCTYPE html>
<html lang="vi">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-PyGfWOVwvtf65xrScphvC5zoA7HRcRUhT7qCk8tdlOQxob9m8wcx+ZEV6VwhYy5yBY5jCe5L04cGZxe2/79L2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Thế giới điện thoại</title>
    <link rel="shortcut icon" href="../../static/img/favicon.ico" />

    <!-- Load font awesome icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        crossorigin="anonymous">

	<!-- owl carousel libraries cho hình nhỏ -->
    <link rel="stylesheet" type="text/css" th:href="@{/js/owlcarousel/owl.carousel.min.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/js/owlcarousel/owl.theme.default.min.css}" />

    <script src="/js/Jquery/Jquery.min.js"></script>
    <script src="/js/owlcarousel/owl.carousel.min.js"></script>

    <!-- our files -->
    <!-- css -->
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/topnav.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/header.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/taikhoan.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/trangchu.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/home_products.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/chitietsanpham.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/css/footer.css}" />
    <style>
        table {
            width: 50%; /* Điều chỉnh độ rộng của bảng */
            margin-left: auto; /* Căn giữa bảng */
            margin-right: auto; /* Căn giữa bảng */
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center; /* Căn giữa nội dung trong ô */
        }
        th {
            background-color: #f2f2f2; /* Màu nền cho dòng tiêu đề */
        }
        .compare_button {
            background-color: #4CAF50; /* Màu nền */
            border: none;
            color: white; /* Màu chữ */
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            border-radius: 5px; /* Bo góc */
            cursor: pointer;
            transition: background-color 0.3s; /* Hiệu ứng khi hover */
        }

        .compare_button:hover {
            background-color: #45a049; /* Màu nền khi hover */
        }
    </style>
    <!-- js -->
    <script src="/data/products.js"></script>
    <script src="/js/classes.js"></script>
    <script src="/js/dungchung.js"></script>
    <script src="/js/chitietsanpham.js"></script>
    <style>
        .review-form {
            width: 600px;
            margin: 0 auto;
            padding: 30px;
            border: 1px solid #f1f1f1;
            background: #E6DFD8;
        }
        .review-form h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .review-form input[type="text"],
        .review-form textarea {
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
        }
        .review-form input[type="submit"] {
            padding: 10px 20px;
            background: #007BFF;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        .review-card img {
            width: 100px;
            height: 100px;
            margin-right: 10px;
        }
        div.stars {
            width: 570px;
            display: inline-block;
        }
        .stars1{
            color: gold;
        }
        input.star { display: none; }

        label.star {
            float: right;
            padding: 10px;
            font-size: 36px;
            color: #444;
            transition: all .2s;
        }
        input.star:checked ~ label.star:before {
            content: '\f005';
            color: #FD4;
            transition: all .25s;
        }
        input.star-5:checked ~ label.star:before {
            color: #FE7;
            text-shadow: 0 0 20px #952;
        }
        input.star-1:checked ~ label.star:before { color: #F62; }
        label.star:hover { transform: rotate(-15deg) scale(1.3); }
        label.star:before {
            content: '\f006';
            font-family: FontAwesome;
        }
        .separator {
            border-top: 1px solid black;
            width: 10%; /* Đảm bảo chiều rộng của đường line bằng với phần tử chứa nó */
        }
        .link-muted { color: #aaa; } .link-muted:hover { color: #1266f1; }
    </style>

</head>

<body>


    <script> addTopNav(); </script>

    <section>
        <header>
            <div th:replace="~{view/header :: header}"></div>
        </header>


        <div class="chitietSanpham" style="margin-bottom: 100px">
            <h1>Điện thoại </h1>
            <div class="rowdetail group" >
                <div class="picture">
                    <img th:src="@{'/' + ${product.productDetail.imageUrl}}" onclick="opencertain()"/>                </div>
                <div class="price_sale">
                    <div class="area_price"> </div>
                    <div class="ship" style="display: none;">
                        <img src="/img/chitietsanpham/clock-152067_960_720.png">
                        <div>NHẬN HÀNG TRONG 1 GIỜ</div>
                    </div>
                    <div class="area_promo">
                        <strong>khuyến mãi</strong>
                        <div class="promo">
                            <img src="/img/chitietsanpham/icon-tick.png">
                            <div id="detailPromo"> </div>
                        </div>
                    </div>
                    <div class="policy">
                        <div>
                            <img src="/img/chitietsanpham/box.png">
                            <p>Trong hộp có: Sạc, Tai nghe, Sách hướng dẫn, Cây lấy sim, Ốp lưng </p>
                        </div>
                        <div>
                            <img src="/img/chitietsanpham/icon-baohanh.png">
                            <p>Bảo hành chính hãng 12 tháng.</p>
                        </div>
                        <div class="last">
                            <img src="/img/chitietsanpham/1-1.jpg">
                            <p>1 đổi 1 trong 1 tháng nếu lỗi, đổi sản phẩm tại nhà trong 1 ngày.</p>
                        </div>
                    </div>
                    <div class="area_order">

                        <a class="buy_now" th:href="@{'/cart/add-to-cart/' + ${product.productID}}">
                            <b><i class="fa fa-cart-plus"></i> Thêm vào giỏ hàng</b>
                            <p>Giao trong 1 giờ hoặc nhận tại cửa hàng</p>
                        </a>
                    </div>
                    <div class="datconsp">
                         nameProduct là biến toàn cục được khởi tạo giá trị trong phanTich_URL_chiTietSanPham
                        <a class="datcoc" th:href="@{'/setpointproduct/add-to-setpointproduct/' + ${product.productID}}">
                            <b><i class="fa fa-cart-plus"></i> Thêm vào sản phẩm đặc cọc</b>
                            <p>Giữ sản phẩm tại cửa hàng</p>
                            <p>đảm bảo luôn có sản phẩm khi đến tận nơi để mua</p>
                        </a>
                    </div>
                    <div class="area_order">
                        <form th:action="@{/product-detail/compare_products/add}" method="post"> <!-- Update the form action -->
<!--                            <input type="hidden" name="productId" th:value="${product.productID}"/>-->
                            <button type="submit" class="compare_button">
                                <b><i class="fa fa-book"></i> Thêm vào trang so sánh</b>
                            </button>
                        </form>
                    </div>

                </div>
                <div class="info_product">
                    <h2>Thông số kỹ thuật</h2>
                    <table>
                        <tr>
                            <th>Màn hình</th>
                            <td th:text="${product.productDetail.screen}"></td>
                        </tr>
                        <tr>
                            <th>Hệ điều hành</th>
                            <td th:text="${product.productDetail.os}"></td>
                        </tr>
                        <tr>
                            <th>Camera sau</th>
                            <td th:text="${product.productDetail.camera}"></td>
                        </tr>
                        <tr>
                            <th>Camera trước</th>
                            <td th:text="${product.productDetail.cameraFront}"></td>
                        </tr>
                        <tr>
                            <th>CPU</th>
                            <td th:text="${product.productDetail.cpu}"></td>
                        </tr>
                        <tr>
                            <th>RAM</th>
                            <td th:text="${product.productDetail.ram}"></td>
                        </tr>
                        <tr>
                            <th>Bộ nhớ trong</th>
                            <td th:text="${product.productDetail.rom}"></td>
                        </tr>
                        <tr>
                            <th>Thẻ nhớ</th>
                            <td th:text="${product.productDetail.microUSB}"></td>
                        </tr>
                        <tr>
                            <th>Dung lượng pin</th>
                            <td th:text="${product.productDetail.battery}"></td>
                        </tr>
                    </table>
                </div>
            </div>
            <div id="overlaycertainimg" class="overlaycertainimg">
                <div class="close" onclick="closecertain()">&times;</div>
                <div class="overlaycertainimg-content">
                    <img id="bigimg" class="bigimg" src="/img/chitietsanpham/oppo-f9-red-2-400x460.png">
                    <div class="div_smallimg owl-carousel">
                        <img src="/img/chitietsanpham/oppo-f9-mau-do-1-org.jpg" onclick="changepic(this.src)">
                        <img src="/img/chitietsanpham/oppo-f9-mau-do-2-org.jpg" onclick="changepic(this.src)">
                        <img src="/img/chitietsanpham/oppo-f9-mau-do-3-org.jpg" onclick="changepic(this.src)">
                    </div>
                </div>
            </div>
        </div>

        <div id="goiYSanPham"></div>
    </section>

    <div>
<!--        <div class="review-section">-->
<!--            <h2>Đánh giá sản phẩm</h2>-->
<!--            <div th:each="review, iterStat : ${evaluateList}" class="review-card">-->
<!--                <div class="review-header">-->
<!--                    <h3 th:text="${review.authorName}"></h3>-->
<!--                    <span class="review-rating" th:text="${review.rating + ' sao'}"></span>-->
<!--                </div>-->
<!--                <p class="review-text" th:text="${review.review}"></p>-->
<!--                &lt;!&ndash; Nếu có hình ảnh &ndash;&gt;-->
<!--                &lt;!&ndash; <img th:if="${review.imageUrl != null}" th:src="${review.imageUrl}" alt="Ảnh đánh giá của ${review.authorName}"> &ndash;&gt;-->
<!--                &lt;!&ndash; Thêm đường line ngang nếu không phải là phần tử cuối cùng &ndash;&gt;-->
<!--                <div th:if="${!iterStat.last}" class="separator"></div>-->
<!--            </div>-->
<!--            &lt;!&ndash; Nếu không có đánh giá nào &ndash;&gt;-->
<!--            <div th:if="${#lists.isEmpty(evaluateList)}" class="no-reviews">-->
<!--                <p>Chưa có đánh giá nào cho sản phẩm này.</p>-->
<!--            </div>-->
<!--        </div>-->
        <section style="background-color: white;">
            <div class="container my-5 py-5">
                <div class="row d-flex justify-content-center">
                    <div class="col-md-12 col-lg-10">
                        <div class="card text-body ,scrollable-wrapper" style="max-height: 400px; overflow-y: auto;">
                            <div class="card-body p-4" th:each="review, iterStat : ${evaluateList}">
                                <h4 class="mb-0" th:text="${review.reviewDate}"></h4>
                                <div>
                                    <div class="d-flex flex-start">
                                        <img class="rounded-circle shadow-1-strong me-3"
                                             src="https://th.bing.com/th/id/OIP.AT9KXReuk4zgEHgJs0jJ-QHaHa?w=186&h=186&c=7&r=0&o=5&pid=1.7"
                                             alt="avatar" width="60" height="60"/>
                                        <div>
                                            <h6 class="fw-bold mb-1" th:text="${review.authorName}"></h6>
                                            <div class="d-flex align-items-center mb-3">
                                                <p class="mb-0">
                                            <span class="badge bg-primary">
                                                <div class="stars1">
                                                    <!-- Sử dụng Thymeleaf if-else để kiểm tra giá trị rating và in ra số lượng ngôi sao tương ứng -->
                                                    <span th:switch="${review.rating}">
                                                        <span th:case="1">
                                                            <i class="fa fa-star"></i>
                                                        </span>
                                                        <span th:case="2">
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                        </span>
                                                        <span th:case="3">
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                        </span>
                                                        <span th:case="4">
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                        </span>
                                                        <span th:case="5">
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                        </span>
                                                    </span>
                                                </div>
                                            </span>
                                                </p>
                                            </div>
                                            <p class="mb-0" th:text="${review.review}">
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <hr class="my-0"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>







        <div class="review-form">
            <h2>Phản hồi về sản phẩm</h2>
            <form action="/evaluate/product/review" method="post">
                <input type="text" name="phone" placeholder="Số điện thoại">
                <input type="text" name="name" placeholder="Tên của bạn">
                <textarea name="review" placeholder="Đánh giá của bạn"></textarea>
                <div class="stars">
                    <input class="star star-5" id="star-5" type="radio" name="rating" value="5"/>
                    <label class="star star-5" for="star-5"></label>
                    <input class="star star-4" id="star-4" type="radio" name="rating" value="4"/>
                    <label class="star star-4" for="star-4"></label>
                    <input class="star star-3" id="star-3" type="radio" name="rating" value="3"/>
                    <label class="star star-3" for="star-3"></label>
                    <input class="star star-2" id="star-2" type="radio" name="rating" value="2"/>
                    <label class="star star-2" for="star-2"></label>
                    <input class="star star-1" id="star-1" type="radio" name="rating" value="1"/>
                    <label class="star star-1" for="star-1"></label>
                    <input type="hidden" name="productId" th:value="${product.productID}"/>
                    <input type="submit" value="Gửi Đánh Giá">
                </div>
            </form>
        </div>
    </div>

    <script>addContainTaiKhoan();</script>

    <div class="footer"><script>addFooter();</script></div>

</body>

</html>